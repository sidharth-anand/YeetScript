[KEYWORDS]
    STATE_INITIAL - KEYWORDS - STATE_INITIAL emit KEYWORD

[SINGLE LINE COMMENTS]
    STATE_INITIAL - # - STATE_COMMENT_SINGLE
    STATE_WHITESPACE - # - STATE_COMMENT_SINGLE emit WHITESPACE
    STATE_NEWLINE - # - STATE_COMMENT_SINGLE emit NEWLINE
    STATE_DELIMITER - # - STATE_COMMENT_SINGLE emit DELIMITER

    STATE_COMMENT_SINGLE - NEWLINE - STATE_NEWLINE emit COMMENT

    STATE_COMMENT_SINGLE - ** - STATE_COMMENT_SINGLE

[MULTI LINE COMMENTS]
    STATE_INITIAL - / - STATE_COMMENT_MULTI_START
    STATE_WHITESPACE - / - STATE_COMMENT_MULTI_START emit WHITESPACE
    STATE_NEWLINE - / - STATE_COMMENT_MULTI_START emit NEWLINE
    STATE_DELIMITER - / - STATE_COMMENT_MULTI_START emit DELIMITER

    STATE_COMMENT_MULTI_START - = - STATE_ARITHMETIC
    STATE_COMMENT_MULTI_START - CHARACTER - STATE_CHARACTER emit ARITHMETIC
    STATE_COMMENT_MULTI_START - 0 - STATE_ZERO emit ARITHMETIC
    STATE_COMMENT_MULTI_START - DIGIT - STATE_DIGIT emit ARITHMETIC
    STATE_COMMENT_MULTI_START - DELIMITER - STATE_DELIMITER emit ARITHMETIC
    STATE_COMMENT_MULTI_START -   - STATE_WHITESPACE emit ARITHMETIC

    STATE_COMMENT_MULTI_START - * - STATE_COMMENT_MULTI

    STATE_COMMENT_MULTI - * - STATE_COMMENT_MULTI_END
    STATE_COMMENT_MULTI - ** - STATE_COMMENT_MULTI

    STATE_COMMENT_MULTI_END - / - STATE_COMMENT_MULTI_FINISH
    STATE_COMMENT_MULTI_END - ** - STATE_COMMENT_MULTI

    STATE_COMMENT_MULTI_FINISH - CHARACTER - STATE_CHARACTER emit COMMENT
    STATE_COMMENT_MULTI_FINISH - DELIMITER - STATE_DELIMITER emit COMMENT
    STATE_COMMENT_MULTI_FINISH -   - STATE_WHITESPACE emit COMMENT
    STATE_COMMENT_MULTI_FINISH - NEWLINE - STATE_NEWLINE emit COMMENT
    STATE_COMMENT_MULTI_FINISH - 0 - STATE_ZERO emit COMMENT
    STATE_COMMENT_MULTI_FINISH - DIGIT - STATE_DIGIT emit COMMENT

    STATE_COMMENT_MULTI_FINISH - + - STATE_PLUS emit COMMENT
    STATE_COMMENT_MULTI_FINISH - - - STATE_MINUS emit COMMENT


[NEWLINE]
    STATE_INITIAL - NEWLINE - STATE_NEWLINE

    STATE_WHITESPACE - NEWLINE - STATE_NEWLINE emit WHITESPACE
    STATE_DELIMITER - NEWLINE - STATE_NEWLINE emit DELIMITER
    STATE_NEWLINE - NEWLINE - STATE_NEWLINE emit NEWLINE

[IDENTIFIERS]
    STATE_INITIAL - CHARACTER - STATE_CHARACTER
    STATE_WHITESPACE - CHARACTER - STATE_CHARACTER emit WHITESPACE
    STATE_NEWLINE - CHARACTER - STATE_CHARACTER emit NEWLINE    
    STATE_DELIMITER - CHARACTER - STATE_CHARACTER emit DELIMITER

    STATE_INITIAL - _ - STATE_INVALID_IDENTIFIER
    STATE_WHITESPACE - _ - STATE_INVALID_IDENTIFIER emit WHITESPACE
    STATE_NEWLINE - _ - STATE_INVALID_IDENTIFIER emit NEWLINE
    STATE_DELIMITER - _ - STATE_INVALID_IDENTIFIER emit DELIMITER    

    STATE_CHARACTER - IDENTIFIER - STATE_CHARACTER
    
    STATE_CHARACTER - DELIMITER - STATE_DELIMITER emit IDENTIFIER
    STATE_CHARACTER -   - STATE_WHITESPACE emit IDENTIFIER
    STATE_CHARACTER - NEWLINE - STATE_NEWLINE emit IDENTIFIER
    STATE_CHARACTER - COMPARISON - STATE_COMPARISON emit IDENTIFIER

    STATE_CHARACTER - + - STATE_PLUS emit IDENTIFIER
    STATE_CHARACTER - - - STATE_MINUS emit IDENTIFIER
    STATE_CHARACTER - * - STATE_MULTIPLY emit IDENTIFIER
    STATE_CHARACTER - ARITHMETIC - STATE_ARITHMETIC emit IDENTIFIER

[ZERO]
    STATE_INITIAL - 0 - STATE_ZERO
    STATE_WHITESPACE - 0 - STATE_ZERO emit WHITESPACE
    STATE_DELIMITER - 0 - STATE_ZERO emit DELIMITER
    STATE_NEWLINE - 0 - STATE_ZERO emit NEWLINE

    STATE_ZERO -   - STATE_WHITESPACE emit INTEGER
    STATE_ZERO - DELIMITER - STATE_DELIMITER emit INTEGER
    STATE_ZERO - . - STATE_DIGIT_DOT

[INT LITERAL]
    STATE_INITIAL - DIGIT - STATE_DIGIT
    STATE_WHITESPACE - DIGIT - STATE_DIGIT emit WHITESPACE
    STATE_DELIMITER - DIGIT - STATE_DIGIT emit DELIMITER
    STATE_NEWLINE - DIGIT - STATE_DIGIT emit NEWLINE

    STATE_DIGIT - DIGIT - STATE_DIGIT

    STATE_DIGIT - . - STATE_DIGIT_DOT

    STATE_DIGIT - CHARACTER - STATE_INVALID_IDENTIFIER emit INTEGER
    STATE_DIGIT - DELIMITER - STATE_DELIMITER emit INTEGER
    STATE_DIGIT -   - STATE_WHITESPACE emit INTEGER

[FLOAT LITERAL]
    STATE_DIGIT_DOT - DIGIT - STATE_DIGIT_DOT_END

    STATE_DIGIT_DOT_END - DIGIT - STATE_DIGIT_DOT_END
    STATE_DIGIT_DOT_END - . - STATE_INITIAL emit FLOAT

    STATE_DIGIT_DOT_END - DELIMITER - STATE_DELIMITER emit FLOAT
    STATE_DIGIT_DOT_END -   - STATE_WHITESPACE emit FLOAT

[STRING LITERAL]
    STATE_INITIAL - " - STATE_STRING_DOUBLE
    STATE_COMPARISON - " - STATE_STRING_DOUBLE emit COMPARISON
    STATE_WHITESPACE - " - STATE_STRING_DOUBLE emit WHITESPACE
    STATE_DELIMITER - " - STATE_STRING_DOUBLE emit DELIMITER
    STATE_NEWLINE - " - STATE_STRING_DOUBLE emit NEWLINE

    STATE_INITIAL - ' - STATE_STRING_SINGLE
    STATE_COMPARISON - ' - STATE_STRING_SINGLE emit COMPARISON
    STATE_WHITESPACE - ' - STATE_STRING_SINGLE emit WHITESPACE
    STATE_DELIMITER - ' - STATE_STRING_SINGLE emit DELIMITER
    STATE_NEWLINE - ' - STATE_STRING_SINGLE emit NEWLINE

    STATE_STRING_DOUBLE - \ - STATE_STRING_ESCAPE_DOUBLE
    STATE_STRING_SINGLE - \ - STATE_STRING_ESCAPE_SINGLE

    STATE_STRING_ESCAPE_DOUBLE - ESCAPES - STATE_STRING_DOUBLE
    STATE_STRING_ESCAPE_SINGLE - ESCAPES - STATE_STRING_SINGLE

    STATE_STRING_ESCAPE_DOUBLE - " - STATE_STRING_DOUBLE
    STATE_STRING_ESCAPE_SINGLE - ' - STATE_STRING_SINGLE

    STATE_STRING_DOUBLE - " - STATE_STRING_END
    STATE_STRING_SINGLE - ' - STATE_STRING_END

    STATE_STRING_DOUBLE - NEWLINE - STATE_STRING_INVALID
    STATE_STRING_SINGLE - NEWLINE - STATE_STRING_INVALID

    STATE_STRING_SINGLE - ** - STATE_STRING_SINGLE
    STATE_STRING_DOUBLE - ** - STATE_STRING_DOUBLE

    STATE_STRING_END - DELIMITER - STATE_DELIMITER emit STRING
    STATE_STRING_END -  - STATE_WHITESPACE emit STRING
    STATE_STRING_END - COMPARISON - STATE_COMPARISON emit STRING
    STATE_STRING_END - " - STATE_STRING_DOUBLE emit STRING
    STATE_STRING_END - ' - STATE_STRING_SINGLE emit STRING

[COMPARISON OPERATORS]
    STATE_INITIAL - COMPARISON - STATE_COMPARISON
    STATE_DELIMITER - COMPARISON - STATE_COMPARISON emit DELIMITER
    STATE_WHITESPACE - COMPARISON - STATE_COMPARISON emit WHITESPACE

    STATE_COMPARISON - = - STATE_COMPARISON

    STATE_COMPARISON - CHARACTER - STATE_CHARACTER emit COMPARISON
    STATE_COMPARISON - 0 - STATE_ZERO emit COMPARISON
    STATE_COMPARISON - DIGIT - STATE_DIGIT emit COMPARISON
    STATE_COMPARISON - DELIMITER - STATE_DELIMITER emit COMPARISON
    STATE_COMPARISON -   - STATE_WHITESPACE emit COMPARISON

[ARITHMETIC OPERATORS]
    STATE_INITIAL - + - STATE_PLUS
    STATE_INITIAL - - - STATE_MINUS
    STATE_INITIAL - * - STATE_MULTIPLY
    STATE_INITIAL - ARITHMETIC - STATE_ARITHMETIC

    STATE_DELIMITER - + - STATE_PLUS emit DELIMITER
    STATE_DELIMITER - - - STATE_MINUS emit DELIMITER
    STATE_DELIMITER - * - STATE_MULTIPLY emit DELIMITER
    STATE_DELIMITER - ARITHMETIC - STATE_ARITHMETIC emit DELIMITER

    STATE_WHITESPACE - + - STATE_PLUS emit WHITESPACE
    STATE_WHITESPACE - - - STATE_MINUS emit WHITESPACE
    STATE_WHITESPACE - * - STATE_MULTIPLY emit WHITESPACE
    STATE_WHITESPACE - ARITHMETIC - STATE_ARITHMETIC emit WHITESPACE

    STATE_PLUS - + - STATE_ARITHMETIC
    STATE_MINUS - - - STATE_ARITHMETIC
    STATE_MULTIPLY - * - STATE_ARITHMETIC
    STATE_ARITHMETIC - = - STATE_ARITHMETIC

    STATE_PLUS - = - STATE_ARITHMETIC_END
    STATE_MINUS - = - STATE_ARITHMETIC_END
    STATE_MULTIPLY - = - STATE_ARITHMETIC_END

    STATE_PLUS - CHARACTER - STATE_CHARACTER emit ARITHMETIC
    STATE_PLUS - 0 - STATE_ZERO emit ARITHMETIC
    STATE_PLUS - DIGIT - STATE_DIGIT emit ARITHMETIC
    STATE_PLUS - DELIMITER - STATE_DELIMITER emit ARITHMETIC
    STATE_PLUS -   - STATE_WHITESPACE emit ARITHMETIC
    
    STATE_MINUS - CHARACTER - STATE_CHARACTER emit ARITHMETIC
    STATE_MINUS - 0 - STATE_ZERO emit ARITHMETIC
    STATE_MINUS - DIGIT - STATE_DIGIT emit ARITHMETIC
    STATE_MINUS - DELIMITER - STATE_DELIMITER emit ARITHMETIC
    STATE_MINUS -   - STATE_WHITESPACE emit ARITHMETIC

    STATE_MULTIPLY - CHARACTER - STATE_CHARACTER emit ARITHMETIC
    STATE_MULTIPLY - 0 - STATE_ZERO emit ARITHMETIC
    STATE_MULTIPLY - DIGIT - STATE_DIGIT emit ARITHMETIC
    STATE_MULTIPLY - DELIMITER - STATE_DELIMITER emit ARITHMETIC
    STATE_MULTIPLY -   - STATE_WHITESPACE emit ARITHMETIC

    STATE_ARITHMETIC - CHARACTER - STATE_CHARACTER emit ARITHMETIC
    STATE_ARITHMETIC - 0 - STATE_ZERO emit ARITHMETIC
    STATE_ARITHMETIC - DIGIT - STATE_DIGIT emit ARITHMETIC
    STATE_ARITHMETIC - DELIMITER - STATE_DELIMITER emit ARITHMETIC
    STATE_ARITHMETIC -   - STATE_WHITESPACE emit ARITHMETIC

    STATE_ARITHMETIC_END - CHARACTER - STATE_CHARACTER emit ARITHMETIC
    STATE_ARITHMETIC_END - 0 - STATE_ZERO emit ARITHMETIC
    STATE_ARITHMETIC_END - DIGIT - STATE_DIGIT emit ARITHMETIC
    STATE_ARITHMETIC_END - DELIMITER - STATE_DELIMITER emit ARITHMETIC
    STATE_ARITHMETIC_END -   - STATE_WHITESPACE emit ARITHMETIC

[WHITESPACE]
    STATE_INITIAL -   - STATE_WHITESPACE

    STATE_WHITESPACE -   - STATE_WHITESPACE emit WHITESPACE
    STATE_WHITESPACE - DELIMITER - STATE_DELIMITER emit WHITESPACE
    STATE_NEWLINE -   - STATE_WHITESPACE emit NEWLINE

[DELIMITERS]
    STATE_INITIAL - DELIMITER - STATE_DELIMITER

    STATE_DELIMITER - DELIMITER - STATE_DELIMITER emit DELIMITER
    STATE_DELIMITER -   - STATE_WHITESPACE emit DELIMITER
    STATE_NEWLINE - DELIMITER - STATE_DELIMITER emit NEWLINE